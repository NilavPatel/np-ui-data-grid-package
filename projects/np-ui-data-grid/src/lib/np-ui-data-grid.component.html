<div class="np-grid" [style.height.px]="height" [style.width.px]="width">
    <div [style.height.px]="height - 52" style="overflow:auto">
        <table class="np-grid-table">
            <thead>
                <tr class="np-grid-header-row">
                    <th *ngIf="_enableMasterChild" width="20px;" [ngClass]="{'np-sticky-header' : isStickyHeader}"></th>
                    <th *ngFor="let column of _columns; let j = index" [ngClass]="{'np-sticky-header' : isStickyHeader}">
                        <span [innerHTML]="column.getCaption()" (click)="_onSort(column)"></span>
                        <span class="float-right"
                            [ngClass]="{'sort-asc': column.sortDirection === 'asc', 'sort-desc': column.sortDirection === 'desc'}"
                            (click)="_onSort(column)">
                        </span>
                        <span *ngIf="multiColumnSortEnable && column.sortDirection"
                            (click)="_removeSortingFromColumn(column)" title="Remove sorting"
                            class="remove-icon float-right">X</span>
                    </th>
                </tr>
                <tr class="np-grid-header-row-filter">
                    <th *ngIf="_enableMasterChild" width="20px;" [ngClass]="{'np-sticky-header-filter' : isStickyHeader}"></th>
                    <th *ngFor="let column of _columns; let j = index" [ngClass]="{'np-sticky-header-filter' : isStickyHeader}">
                        <div *ngIf="column.filterEnabled">
                            <select [(ngModel)]="column.filterType" (change)="_onFilter(column, false)"
                                class="filter-type-select">
                                <option *ngFor="let filterType of _filterTypes | filterTypesPipe: column.dataType"
                                    [ngValue]="filterType.name" [innerText]="filterType.text"></option>
                            </select>
                            <input type="text" [(ngModel)]="column.filterString" (input)="_onFilter(column, false)"
                                class="filter-input" placeholder="search..." *ngIf="column.dataType == 'string'">
                            <input type="number" [(ngModel)]="column.filterString" (input)="_onFilter(column, false)"
                                class="filter-input" placeholder="search..." *ngIf="column.dataType == 'number'">
                            <input type="date" [(ngModel)]="column.filterString" (input)="_onFilter(column, false)"
                                class="filter-input" placeholder="search..." *ngIf="column.dataType == 'date'">
                            <select [(ngModel)]="column.filterString" *ngIf="column.dataType == 'boolean'"
                                (change)="_onFilter(column, false)" class="filter-input">
                                <option value="true">True</option>
                                <option value="false">False</option>
                            </select>
                            <span title="Remove filter" (click)="_removeFilterStringFromColumn(column)"
                                class="float-right">X</span>
                        </div>
                    </th>
                </tr>
            </thead>
            <tbody>
                <ng-container *ngFor="let data of _currentViewData; let  i = index">
                    <tr [id]="_rowIdPrefix + i">
                        <td *ngIf="_enableMasterChild" class="align-center">
                            <a *ngIf="!data.isOpen" (click)="_openMasterChild(data)">[+]</a>
                            <a *ngIf="data.isOpen" (click)="_openMasterChild(data)">[-]</a>
                        </td>
                        <td *ngFor="let column of _columns; let j = index" (click)="_onCellClick($event, column, data)">
                            <ng-container *ngIf="!column.cellTemplate; else customTemplate">
                                {{data[column.dataField]}}
                            </ng-container>
                            <ng-template #customTemplate [ngTemplateOutlet]="column.cellTemplate"
                                [ngTemplateOutletContext]="{ row: data }">
                            </ng-template>
                        </td>
                    </tr>
                    <tr [id]="_rowIdPrefix + (data[_key] ? data[_key]: i) + '_details'"
                        *ngIf="_enableMasterChild && data.isOpen">
                        <td [attr.colspan]="_columns.length + (singleSelectEnabled || multiSelectEnabled ? 1 : 0) + 1">
                            <ng-container *ngTemplateOutlet="masterChildTemplate;context:{ row: data }">
                            </ng-container>
                        </td>
                    </tr>
                </ng-container>
                <tr *ngIf="_currentViewData && _currentViewData.length == 0 && !_showLoader">
                    <td
                        [attr.colspan]="_columns.length + (_enableMasterChild ? 1 : 0) + (singleSelectEnabled || multiSelectEnabled ? 1:0)">
                        No data avaialable
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div>
        <div class="np-pagination">
            <div class="div-page-size">
                <select [(ngModel)]="_pager.pageSize" (change)="_onPageSizeChange()">
                    <option value="10">10</option>
                    <option value="20">20</option>
                    <option value="50">50</option>
                </select> of {{_total}}
            </div>
            <ul *ngIf="_pager.pages && _pager.pages.length">
                <li>
                    <input type="button" [disabled]="_pager.currentPage === 1" value="First"
                        (click)="_getCurrentViewData(1)">
                </li>
                <li>
                    <input type="button" [disabled]="_pager.currentPage === 1" value="Prev"
                        (click)="_getCurrentViewData(_pager.currentPage - 1)">
                </li>
                <li *ngFor="let page of _pager.pages">
                    <input type="button" [value]="page" (click)="_getCurrentViewData(page)"
                        [ngClass]="{active:_pager.currentPage === page}"> </li>
                <li>
                    <input type="button" [disabled]="_pager.currentPage === _pager.totalPages" value="Next"
                        (click)="_getCurrentViewData(_pager.currentPage + 1)">
                </li>
                <li>
                    <input type="button" [disabled]="_pager.currentPage === _pager.totalPages" value="Last"
                        (click)="_getCurrentViewData(_pager.totalPages)">
                </li>
            </ul>
        </div>
    </div>
</div>